<!-- build time:Fri Feb 21 2020 18:51:42 GMT+0800 (GMT+08:00) --><!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="区块链问答, HTML,CSS,JavaScript,React,Vue,Springboot,SpringCloud,SpringAlibaba,Docker,K8s,Sql,mysql,Redis,Mongo"><meta name="description" content="区块链基础问答问：什么是区块链？答：
区块链本质上是一个去中心化的数据库，是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。
 狭义的讲，区块链是一种按照时间顺序将数据块以顺序相连的方式组合成的一种链式数据结构，并"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><title>区块链问答 | 涂黑山</title><link rel="icon" type="image/x-icon, image/vnd.microsoft.icon" href="https://www.imooc.com/favicon.ico"><link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css"><link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css"><link rel="stylesheet" type="text/css" href="/libs/aos/aos.css"><link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css"><link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" type="text/css" href="/css/matery.css"><link rel="stylesheet" type="text/css" href="/css/my.css"><script src="/libs/jquery/jquery.min.js"></script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="涂黑山" type="application/atom+xml"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper head-container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><div><img src="/medias/loading.gif" data-original="/medias/logo.png" class="logo-img" alt="LOGO"> <span class="logo-span">涂黑山</span></div></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fas fa-tags" style="zoom:.6"></i> <span>标签</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>分类</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>归档</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fas fa-comments" style="zoom:.6"></i> <span>留言板</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fas fa-address-book" style="zoom:.6"></i> <span>友情链接</span></a></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="/medias/loading.gif" data-original="/medias/logo.png" class="logo-img circle responsive-img"><div class="logo-name">涂黑山</div><div class="logo-desc">从来没有绝境，只有心灵的迷途</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fa-fw fas fa-tags"></i> 标签</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> 分类</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 归档</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fa-fw fas fa-comments"></i> 留言板</a></li><li class="m-nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fa-fw fas fa-address-book"></i> 友情链接</a></li><li><div class="divider"></div></li><li><a href="https://github.com/tuheishan/hexo-theme-matery" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i>Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="https://github.com/tuheishan/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><script src="/libs/cryptojs/crypto-js.min.js"></script><script>(function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();</script><div class="bg-cover pd-header post-cover" style="background-image:url(/medias/featureimages/17.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">区块链问答</h1></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{width:345px;padding-left:20px}.toc-widget .toc-title{margin:35px 0 15px 0;padding-left:17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content{height:calc(100vh - 250px);overflow:auto}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px}#toc-content .is-active-link{color:#42b983}#toc-content .is-active-link::before{background-color:#42b983}#floating-toc-btn{position:fixed;right:15px;bottom:76px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"><span class="chip bg-color">区块链</span></a></div></div><div class="col s5 right-align"></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp; 2020-02-21</div><div class="post-date info-break-policy"><i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp; 2020-02-21</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp; 11.4k</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp; 38 分</div><div id="busuanzi_container_page_pv" class="info-break-policy"><i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp; <span id="busuanzi_value_page_pv"></span></div></div></div><hr class="clearfix"><div class="card-content article-card-content"><div id="articleContent"><h2 id="区块链基础问答"><a href="#区块链基础问答" class="headerlink" title="区块链基础问答"></a>区块链基础问答</h2><h3 id="问：什么是区块链？"><a href="#问：什么是区块链？" class="headerlink" title="问：什么是区块链？"></a>问：什么是区块链？</h3><p>答：</p><p>区块链本质上是一个<strong>去中心化的数据库</strong>，是<strong>分布式数据存储、点对点传输、共识机制、加密算法</strong>等计算机技术的新型应用模式。</p><p>狭义的讲，区块链是一种按<strong>照时间顺序</strong>将数据块以<strong>顺序相连</strong>的方式组合成的一种<strong>链式</strong>数据结构，并以密码学方式保证的<strong>不可篡改、不可伪造</strong>的分布式账本。</p><p>广义来讲，区块链技术是利用<strong>块链式数据结构来验证和存储数据、利用分布式节点共识算法来生成和更新数据、利用密码学方式保证数据传输和访问安全、利用自动化脚本代码组成的只能合约来编程和操作数据</strong> 的 一种全新的分布式基础架构和计算范式。</p><p>区块链上存储的数据由<strong>全网节点共同维护</strong>，在节点之间有效的传递价值。</p><p>通俗一点说，区块链技术就指一种全民参与记账的方式。所有的系统背后都有一个数据库，你可以把数据库看成是就是一个大账本。那么谁来记这个账本就变得很重要。目前就是谁的系统谁来记账，微信的账本就是腾讯在记，淘宝的账本就是阿里在记。但现在区块链系统中，系统中的每个人都可以有机会参与记账。在一定时间段内如果有任何数据变化，系统中每个人都可以来进行记账，系统会评判这段时间内记账最快最好的人，把他记录的内容写到账本，并将这段时间内账本内容发给系统内所有的其他人进行备份。这样系统中的每个人都了一本完整的账本。这种方式，我们就称它为区块链技术。</p><h3 id="问：这样全民记账的区块链有什么好处？"><a href="#问：这样全民记账的区块链有什么好处？" class="headerlink" title="问：这样全民记账的区块链有什么好处？"></a>问：这样全民记账的区块链有什么好处？</h3><p>答：可以发现，这是在牺牲一点效率的情况下，获得了极大的安全性。首先没有一本中央大账本了，所以无法摧毁。每个节点都仅仅是系统的一部分，每个节点权利相等，都有着一模一样的账本。摧毁部分节点对系统一点都没有影响。其次，无法作弊，因为除非你能控制系统内大多数人的电脑都进行修改，否则系统会参照多数人的意见来决定什么才是真实结果，结果会发现修改自己的账本完全没有意义（因为别人不承认）。其次，由于没有中心化的中介机构存在，让所有的东西都通过预先设定的程序自动运行，不仅能够大大降低成本，也能提高效率。而由于每个人都有相同的账本，能确保账本记录过程是公开透明的。</p><h3 id="问：区块链解决了什么问题吗？"><a href="#问：区块链解决了什么问题吗？" class="headerlink" title="问：区块链解决了什么问题吗？"></a>问：区块链解决了什么问题吗？</h3><p>答：区块链最重要的是解决了中介信用问题。在过去，两个互不认识和信任的人要达成协作是难的，必须要依靠第三方。比如支付行为，在过去任何一种转账，必须要有银行或者支付宝这样的机构存在。但是通过区块链技术，比特币是人类第一次实现在没有任何中介机构参与的情况下，完成双方可以互信的转账行为。这是区块链的重大突破。</p><h3 id="问：区块链是比特币吗？或者比特币就是区块链吗？"><a href="#问：区块链是比特币吗？或者比特币就是区块链吗？" class="headerlink" title="问：区块链是比特币吗？或者比特币就是区块链吗？"></a>问：区块链是比特币吗？或者比特币就是区块链吗？</h3><p>答：区块链技术是比特币的底层技术，在早期并没有太多人注意到比特币的底层技术。但是当比特币在没有任何中心化机构运营和管理的情况下，在多年里非常稳定的运行，并且没有出现过任何问题。所以很多人注意到，该底层技术技术也许有很大的机制，而且不仅仅可以在比特币中使用，也许可以在许多领域都能够应用这种技术。于是把比特币技术抽象提取出来，称之为区块链技术，或者分布式账本技术。所以从某个角度来看，比特币可以看成是区块链第一个应用，而区块链更类似于TCP/IP这样的底层技术，以后会扩展到越来越多的行业中。</p><h3 id="问：区块链技术主要可以用在哪些行业？"><a href="#问：区块链技术主要可以用在哪些行业？" class="headerlink" title="问：区块链技术主要可以用在哪些行业？"></a>问：区块链技术主要可以用在哪些行业？</h3><p>答：区块链主要的优势是无需中介参与、过程高效透明且成本很低、数据高度安全。所以如果在这三个方面有任意一个需求的行业都有机会使用区块链技术。</p><h3 id="问：金融领域为什么要使用区块链技术？有什么实质性的好处？"><a href="#问：金融领域为什么要使用区块链技术？有什么实质性的好处？" class="headerlink" title="问：金融领域为什么要使用区块链技术？有什么实质性的好处？"></a>问：金融领域为什么要使用区块链技术？有什么实质性的好处？</h3><p>答：区块链技术在金融领域中主要的优势去中介化和极大的降低成本。<br>首先金融行业目前由于防止单点故障和系统性风险，需要进行层层审计来控制金融风险，但由此也造成高昂的内部成本。并且由于不断增加的监管法规出现，特别是2008年金融危机导致对于金融管控门槛不断升高，而反恐战争导致反洗钱和反恐怖主义融资的范围也让监管的广度和深度逐渐扩大，导致整个金融系统的监管成本急剧增加。在这种情况下，区块链技术能够通过防篡改和高透明的方式让真个金融系统极大的降低成本。根据西班牙最大银行桑坦德发布的一份报告显示，2020年左右如果全世界的银行内部都使用区块链技术的话，大概每年能省下200亿美元的成本。这样的数据足以说明“区块链”给传统金融领域带来的巨大变革和突破。<br>此外由于历史原因，导致传统金融机构在结算和清算时都依靠中央结算所来完成，而由此造成的问题就是效率低下。传统的跨国结算就是因为要通过类似于SWIFT这样的机构，所以跨国电汇往往是按天来计算的。但是比特币在使用区块链技术时，在完全没有中心化运营机构的情况下，完美的运行了七年，不仅能够实现实时结算和清算，而且没有出现过任何一笔账目错误。所以，如果所有的金融系统能够实现去中心化的实时结算和清算，不仅仅将极大的提高全球金融效率，并且由此能够改变全球金融的格局。</p><h3 id="问：什么是比特币说的“挖矿”？"><a href="#问：什么是比特币说的“挖矿”？" class="headerlink" title="问：什么是比特币说的“挖矿”？"></a>问：什么是比特币说的“挖矿”？</h3><p>答：比特币中的“挖矿”实际上就是记账的过程，比特币的运算采用了一种称为“工作量证明（Proof of Work，PoW）”的机制，系统为了找出谁有更强大的计算能力，每次会出一道数学题，只有最快解出这道题目的计算机才能进行记账。而抢到记账权的计算机会获得25个比特币的奖励。通常把这个行为称为“挖矿”，把获得的比特币视为挖矿成功获得的奖励。</p><h3 id="问：所有的区块链都需要挖矿吗？"><a href="#问：所有的区块链都需要挖矿吗？" class="headerlink" title="问：所有的区块链都需要挖矿吗？"></a>问：所有的区块链都需要挖矿吗？</h3><p>答：并非所有的区块链项目都会采用类似于比特币这样的“工作量证明”方式，这更多出现在早期的区块链项目中。如果采取其他的证明机制，如“权益证明（Proof of Stake，PoS）”、“股份授权证明机制（DPoS，Delegate Proof of Stake）”都是不需要采取这样的挖矿方式。</p><h3 id="问：区块链和大数据什么关系？区块链会取代大数据？"><a href="#问：区块链和大数据什么关系？区块链会取代大数据？" class="headerlink" title="问：区块链和大数据什么关系？区块链会取代大数据？"></a>问：区块链和大数据什么关系？区块链会取代大数据？</h3><p>答：区块链和大数据关系并不是很大。大数据主要的是对于海量数据进行管理，而区块链的核心是在没有中心化中介计入的情况下实现数据的高安全性和高可靠性。所以区块链和大数据并不互相冲突，也不会取代，完全是面对不同场景情况下对于数据的不同解决方案。</p><h3 id="问：区块链和云计算云存储有什么关系？区块链是云计算或云存储吗？"><a href="#问：区块链和云计算云存储有什么关系？区块链是云计算或云存储吗？" class="headerlink" title="问：区块链和云计算云存储有什么关系？区块链是云计算或云存储吗？"></a>问：区块链和云计算云存储有什么关系？区块链是云计算或云存储吗？</h3><p>答：云计算通常定义为通过互联网来提供动态易扩展且经常是虚拟化的资源，但是提供云计算平台的往往是一个中心化机构。而区块链组成的网络一般是没有特定的机构，所以区块链更接近分布式计算系统的定义，属于分布式计算的一种。不过，区块链是能够实现云存储的，不同于目前中心化提供云存储空间，区块链有一些提供去中心化的云存储方案。这样的项目包括Storj，Sia，Maidsafe。</p><h3 id="问：区块链是软件吗？是用什么程序写的？"><a href="#问：区块链是软件吗？是用什么程序写的？" class="headerlink" title="问：区块链是软件吗？是用什么程序写的？"></a>问：区块链是软件吗？是用什么程序写的？</h3><p>答：区块链不是一种特定的软件，就像“数据库”这个三个字表现的意思一样，它是一种特定技术的设计思想。可以用绝大多数语言来实现它，而且实现的方式也有许多种。而且区块链技术目前还在快速发展中，相对而言，目前区块链技术设计思想还是比较简单的，也许在未来会变得愈加复杂。</p><h3 id="问：什么是公有链？什么是私有链？什么是联盟链？"><a href="#问：什么是公有链？什么是私有链？什么是联盟链？" class="headerlink" title="问：什么是公有链？什么是私有链？什么是联盟链？"></a>问：什么是公有链？什么是私有链？什么是联盟链？</h3><p>答：公有链是任何节点都是向任何人开放的，每个人都可以参与到这个区块链中参与计算，而且任何人都可以下载获得完整区块链数据（全部账本）。但是有些区块链的应用场景下，并不希望这个系统任何人都可以参与，任何人都可以查看所有数据，只有被许可的节点才可以参与并且查看所有数据。那么这种区块链结构我们称为私有链。<br>联盟链是指参与每个节点的权限都完全对等，大家在不需要完全互信的情况下就可以实现数据的可信交换，R3组成的银行区块链联盟要构建的就是典型的联盟链。<br>但是随着区块链技术的快速发展，不排除以后公有链和私有链的界限会变得比较模糊。因为每个节点的可以有较为复杂的读写权限，也许有部分权限的节点会向所有人开发，而部分记账或者核心权限的节点只能向许可的节点开放，那就会不再是纯粹的公有链或者私有链。</p><h3 id="问：目前区块链技术发展的主要问题？"><a href="#问：目前区块链技术发展的主要问题？" class="headerlink" title="问：目前区块链技术发展的主要问题？"></a>问：目前区块链技术发展的主要问题？</h3><p>答：目前区块链技术还处于一个非常早期的阶段，不仅尚未形成统一的技术标准，而且各种技术方案还在快速发展中。但是过去被认为基于区块链技术的系统会非常耗费资源（类似于比特币），或者区块链技术的系统处理数据有限制之类的问题已经在技术上获得了突破。但是，对于区块链技术的可扩展性，还没有经过大规模的实践考验，而现在主要还停留在原型设计阶段。<br>如果不能定量分析，使用区块链技术能够为我们带来的实际好处，包括能够节省的资金和创造的价值，那么金融行业短期内还会保持相对谨慎的态度。毕竟，目前全球金融的基础设施投入已经超过数万亿，要建立一套全新的金融架构和底层操作体系是需要有实际数据相支撑的。在现有技术还没有被部署并且获得使用案例的情况下，能节省下的总金额还是很难确定的。这到目前为止，还是一个巨大的疑问存在，就是到底需要多少资金才能建立一个足够强大的区块链来平台处理，资本市场生态系统每天需要面对的万亿数量级的美元。<br>此外区块链行业极其缺乏人才，缺少大量既了解区块链技术，又了解金融的多方面人才，市场正在拼命寻找可以连接两个世界的人才，需要能够在现实世界中，将区块链技术能够在资本市场中实现，并且实现更好的功能。而需要建立基于区块链技术的全新系统，必然是需要这样的跨界人才。</p><h3 id="问：什么是智能合约？"><a href="#问：什么是智能合约？" class="headerlink" title="问：什么是智能合约？"></a>问：什么是智能合约？</h3><p>答：智能合约是一种用计算机语言取代法律语言去记录条款的合约。智能合约可以由一个计算系统自动执行。如果区块链是一个数据库，智能合约就是能够使区块链技术应用到现实当中的应用层。传统意义上的合同一般与执行合同内容的计算机代码没有直接联系。纸质合同在大多数情况下是被存档的，而软件会执行用计算机代码形式编写的合同条款。智能合约的潜在好处包括降低签订合约、执行和监管方面的成本；因此，对很多低价值交易相关的合约来说，这是极大降低人力成本。</p><h3 id="问：智能合约怎么用？"><a href="#问：智能合约怎么用？" class="headerlink" title="问：智能合约怎么用？"></a>问：智能合约怎么用？</h3><p>答：央行如果能够通过区块链来发行法币，那么也可以通过智能合约技术，将代码嵌入到法币发行的行为中，则这部分法币可以被称为“可编程货币”。比如，如果央行指定某一部分资金是发放到农业相关的账户，那么则可以对这部分资金写入相应程序，指定该部分资金只能进入到农业相关的账户中，那么这部分资金在任何情况下也不可能会被挪用到其他的账户中。如果大部分货币都成为“可编程货币”，那么我们则可以想象到，他们组成的金融环境就变成了“可编程金融”。</p><h3 id="问：区块链和普通人有什么关系？"><a href="#问：区块链和普通人有什么关系？" class="headerlink" title="问：区块链和普通人有什么关系？"></a>问：区块链和普通人有什么关系？</h3><p>答：基本上没什么关系，除非是准备从事这方面的创业。就和TCP/IP协议和普通人之间的关系，普通人完全不需要知道什么是互联网底层的TCP/IP协议，只要享受互联网提供的服务就行。</p><h3 id="问：区块链项目是否一定需要有某种币出现？"><a href="#问：区块链项目是否一定需要有某种币出现？" class="headerlink" title="问：区块链项目是否一定需要有某种币出现？"></a>问：区块链项目是否一定需要有某种币出现？</h3><p>答：不是。比特币本身是作为一种支付系统，所以它需要有一个价值度量的工具，所以必须要有bitcoin出现。此外，为了奖励有更多人愿意贡献自己的计算机来为系统提供计算，所以需要有bitcoin来进行奖励。而在一些私有链的系统，可以设计专门的资产进行交易，而每个节点都是必须参与计算，这是他们的责任也是他们的权利，所以不用考虑通过奖励的方式来鼓励他们参与，所以在这样的系统里面就可能不再需要设计某种币的存在。</p><h3 id="问：比特币现在合法了吗？"><a href="#问：比特币现在合法了吗？" class="headerlink" title="问：比特币现在合法了吗？"></a>问：比特币现在合法了吗？</h3><p>答：比特币在主要的世界大国，包括中国在内一直都是完全合法的。由于某些不良媒体的误导，使很多人以为中国曾经宣布过比特币非法。事实上，根据2013年12月5日，中国人民银行等五部委发布的防范比特币风险的通知中明确规定，比特币是一种特定虚拟商品，普通民众在自担风险的前提下拥有参与的自由。而各类金融机构和支付机构不得开展比特币相关的金融服务，或者将比特币作为投资标的。<br>比特币在德国作为货币单位，在美国定义为大宗商品。欧盟法院认为比特币为一种支付手段，无需征收增值税。</p><h3 id="问：XX币可以投资吗？是区块链项目吗？是传销吗？"><a href="#问：XX币可以投资吗？是区块链项目吗？是传销吗？" class="headerlink" title="问：XX币可以投资吗？是区块链项目吗？是传销吗？"></a>问：XX币可以投资吗？是区块链项目吗？是传销吗？</h3><p>答：目前包括比特币在内的所有数字货币都具有很高的风险，区块链技术本身在刚刚起步阶段，所有的区块链项目也都具有非常高的风险。不建议任何普通人投资任何数字货币和区块链相关的项目。并且数字货币和区块链具有一定的技术门槛，普通人无法区分哪些是真实的项目，哪些是传销项目。所以普通人建议不要投资任何这类的项目。对于任何你无法分辨是否是传销的项目，请直接视为传销项目。</p><h3 id="问：如何投资区块链？"><a href="#问：如何投资区块链？" class="headerlink" title="问：如何投资区块链？"></a>问：如何投资区块链？</h3><p>答：大多数区块链都处于起步阶段，而主要都是在海外，国内好的区块链项目非常非常少，所以不建议任何非专业人士投资区块链项目。如果对区块链技术很有兴趣，自己有技术或者金融相关的背景，建议可以考虑在这方面进行创业。</p><h3 id="问：区块链-比特币到底是谁发明的？中本聪是不是日本人？是不是美国政府的阴谋？"><a href="#问：区块链-比特币到底是谁发明的？中本聪是不是日本人？是不是美国政府的阴谋？" class="headerlink" title="问：区块链/比特币到底是谁发明的？中本聪是不是日本人？是不是美国政府的阴谋？"></a>问：区块链/比特币到底是谁发明的？中本聪是不是日本人？是不是美国政府的阴谋？</h3><p>答：比特币是一个自称为“中本聪”的人或者团队创造的，并且在比特币项目初期就已经完全退出了这个项目。“中本聪”是日本人的可能性非常小，因为他过去的电子邮件中可以推测出，他应该是一个以英语为母语的人。<br>此外比特币创造者对于目前比特币的项目已经完全没有影响力，所以不太可能是某个阴谋的产物。无论“中本聪”在之后是否会出现，或者在肉体上被消灭都无法影响对比特币产生太多的影响。</p><h3 id="问：比特币和Q币到底有什么区别？"><a href="#问：比特币和Q币到底有什么区别？" class="headerlink" title="问：比特币和Q币到底有什么区别？"></a>问：比特币和Q币到底有什么区别？</h3><p>答：Q币是一种中心化的电子货币，包括总量，发行方式都是由腾讯公司控制的。而比特币的总量，发行方式都是由程序和加密算法预先设定后，在全世界的多个节点上运行，没有任何人和机构可以修改，不受任何单一人或者机构来控制。一般称Q币为电子货币，或者企业代币。称比特币为数字货币或者加密数字货币。</p><h3 id="问：比特币总量是有上限的吗？是怎么分配的？"><a href="#问：比特币总量是有上限的吗？是怎么分配的？" class="headerlink" title="问：比特币总量是有上限的吗？是怎么分配的？"></a>问：比特币总量是有上限的吗？是怎么分配的？</h3><p>答：如同前面所说，矿工参与争夺记账权是有机会获得奖励的。在开始的时候是每10分钟系统会奖励记账最快最好的人50个比特币，然后这50个每四年减半，差不多在2140年的时候就不再有新的比特币出现，将会达到2100万个的上限。在这之后，将会使用交易手续费来奖励矿工。</p><h2 id="区块链基础知识"><a href="#区块链基础知识" class="headerlink" title="区块链基础知识"></a>区块链基础知识</h2><h3 id="技术特征"><a href="#技术特征" class="headerlink" title="技术特征"></a>技术特征</h3><ul><li><strong>块链式数据结构</strong>：用来<strong>验证和存储数据结构</strong>，每个区块打包记录了一段时间内发生的交易是对当前账本的一次共识，并且通过记录<strong>上一个区块的哈希值</strong>进行关联，从而形成区块链的数据结构。</li><li><strong>分布式共识算法</strong>：利用<strong>分布式共识算法来生成和更新数据</strong>，从技术上<strong>杜绝了非法篡改数据</strong>的可能，从而取代银行等保证信任和交易安全的第三方机构。</li><li><strong>密码学方式</strong>：利用<strong>密码学方式保证数据传输和访问安全</strong>，存储在区块链上的交易信息是公开的，但账户的身份信息是高度安全的。</li></ul><h4 id="功能特征"><a href="#功能特征" class="headerlink" title="功能特征"></a>功能特征</h4><ul><li><strong>多中心</strong>：多点<strong>共同监督</strong>并实现实时记账，避免单一记账人造假的可能。</li><li><strong>自动化</strong>：预设条款和规则，大大提高经济活动与契约自动化的程度。</li><li><strong>可信任</strong>：<strong>数据不可篡改 + 可溯源。</strong></li></ul><h3 id="区块链相关概念"><a href="#区块链相关概念" class="headerlink" title="区块链相关概念"></a>区块链相关概念</h3><ul><li><strong>交易(Transaction)</strong>：区块上每一次导致区块变化的操作都称为交易，每一次交易对应<strong>唯一的交易哈希值</strong>，一段时间后便会对交易进行打包。</li><li><strong>区块(Block)</strong>：打包记录一段时间内发生的<strong>交易和状态结果</strong>，是对当前账本的一次共识。每个区块以一个相对平稳的时间间隔加入到链上。</li><li><strong>链(Chain)</strong>：区块按照<strong>时间顺序串联</strong>起来，通过每个区块<strong>记录上一个区块的哈希值关联</strong>，是整个<strong>状态改变的日志记录。</strong></li></ul><p><img src="/medias/loading.gif" data-original="https://img-blog.csdnimg.cn/20200210221413543.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1dYXzEyMTg2MzkwMzA=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h4 id="区块链创新"><a href="#区块链创新" class="headerlink" title="区块链创新"></a>区块链创新</h4><ul><li><strong>分布式账本</strong>：交易是由分布式系统中多个节点<strong>共同记录</strong>的，每一个节点都有完整的交易记录。</li><li><strong>加密技术和授权技术</strong>：集成了当前对称加密、非对称加密和哈希算法的许多优点，并使用了<strong>数字签名技术</strong>来保证交易的安全性。</li><li><strong>共识机制</strong>：共识机制是区块链系统中各个节点达成一致的策略和方法，共识机制<strong>既是数据写入方式，也是防止篡改的手段</strong>。常用的共识机制有：PoW、PoS、DPoS、Paxos、PBFT等。</li><li><strong>智能合约</strong>：可以自动化执行预先定义规则的一段计算机程序代码，它<strong>自己就是一个系统参与者</strong>。它能够实现价值的存储、传递、控制和管理。</li></ul><h4 id="区块链分类"><a href="#区块链分类" class="headerlink" title="区块链分类"></a>区块链分类</h4><p><img src="/medias/loading.gif" data-original="https://img-blog.csdnimg.cn/20200210221427455.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1dYXzEyMTg2MzkwMzA=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>区块链按照<strong>节点参与方式</strong>不同分为：<strong>公有链、联盟链、私有链</strong></p><p>区块链按照<strong>权限不同</strong>分为：<strong>非许可链、许可链</strong>，其中联盟链和私有链属于许可链，公有链术语非许可链。</p><p><strong>公有链</strong></p><pre><code>    公有链是全公开的，所有人都可以作为网络中的一个节点，不需要任何人的权限和授权。在公有链中每个节点都可
以自由加入或退出网络，参与链上数据的读写、执行交易、还可以参与网络中共识达成的过程，即决定哪个区块可以添加
到主链上并记录当前网络状态。公有链是完全意义上的去中心化区块链，他借助密码学中的加密算法保证链上交易安全。
在采取共识算法达成共识时，公有链主要采取的工作量证明机制(PoW)或权益证明机制(PoS)等共识算法，将经济奖励和
加密算法结合起来达到去中心化和全网络达成共识的目的。此过程我们称为“挖矿”。</code></pre><p><strong>联盟链</strong></p><pre><code>    联盟链不是完全区中心化的，而是一种多中心化或部分中心化的区块链。区块链系统运行时，他的共识程度会受到
某些节点的控制。联盟链上的数据与公有链不同，只有联盟上的节点才能访问，并且链上的读写权限、参与记账规则等操
作也是由联盟链所有节点所共同决定的。此外参与节点相对于公有链会少，并且一般针对某个商业场景，所以共识机制
一般不采用与工作量证明类似的挖矿机制。同时，联盟链对交易的时间、状态、每秒交易数等于公有链由很大区别，所以
他比公有链有更高的安全和性能要求。</code></pre><p><strong>私有链</strong></p><pre><code>    指整个区块链所有的写入权限仅仅掌握在一个组织手中，而读取权限可以根据情况对外开放或者任意进行限制，但
也会提供一个安全、可追溯、不可篡改的平台。</code></pre><p><strong>非许可链</strong></p><pre><code>不需要许可即可自由参加退出，代表应用：比特币、以太坊(Ethereum)</code></pre><p><strong>许可链</strong></p><pre><code>需要一定权限许可才能够加入网络，代表应用：Linux基金会支持的超级账本(Hyperleder)项目、R3区块链联盟开发的Corda等。</code></pre><h2 id="区块链底层知识"><a href="#区块链底层知识" class="headerlink" title="区块链底层知识"></a>区块链底层知识</h2><h3 id="一致性问题-Consistency"><a href="#一致性问题-Consistency" class="headerlink" title="一致性问题(Consistency)"></a>一致性问题(Consistency)</h3><p>理想的分布式系统一致性应该满足：<br>可终止性（Termination）：一致的结果在有限时间内能完成；<br>共识性（Consensus）：不同节点最终完成决策的结果应该相同；<br>合法性（Validity）：决策的结果必须是其它进程提出的提案。</p><h4 id="强一致性（Strong-Consistency）主要包括下面两类："><a href="#强一致性（Strong-Consistency）主要包括下面两类：" class="headerlink" title="强一致性（Strong Consistency）主要包括下面两类："></a>强一致性（Strong Consistency）主要包括下面两类：</h4><p>顺序一致性（Sequential Consistency）：Leslie Lamport 1979 年经典论文《How to<br>Make a Multiprocessor Computer That Correctly Executes Multiprocess Programs》中<br>提出，是一种比较强的约束，保证所有进程看到的 全局执行顺序（total order）一致，并<br>且每个进程看自身的执行（local order）跟实际发生顺序一致。例如，某进程先执行 A，<br>后执行 B，则实际得到的全局结果中就应该为 A 在 B 前面，而不能反过来。同时所有其<br>它进程在全局上也应该看到这个顺序。顺序一致性实际上限制了各进程内指令的偏序关<br>系，但不在进程间按照物理时间进行全局排序。<br>线性一致性（Linearizability Consistency）：Maurice P. Herlihy 与 Jeannette M. Wing<br>在 1990 年经典论文《Linearizability: A Correctness Condition for Concurrent Objects》<br>中共同提出，在顺序一致性前提下加强了进程间的操作排序，形成唯一的全局顺序（系<br>统等价于是顺序执行，所有进程看到的所有操作的序列顺序都一致，并且跟实际发生顺<br>序一致），是很强的原子性保证。但是比较难实现，目前基本上要么依赖于全局的时钟<br>或锁，要么通过一些复杂算法实现，性能往往不高。<br>####弱一致性（Weak Consistency）<br>强一致的系统往往比较难实现。很多时候，人们发现实际需求并没有那么强，可以适当放宽一致性要求，降低系统实现的难度。例如在一定约束下实现所谓最终一致性（Eventual<br>Consistency），即总会存在一个时刻（而不是立刻），系统达到一致的状态，这对于大部分<br>的 Web 系统来说已经足够了。这一类弱化的一致性，被笼统称为弱一致性（Weak<br>Consistency）</p><h3 id="共识算法"><a href="#共识算法" class="headerlink" title="共识算法"></a>共识算法</h3><p>实际上，要保障系统满足不同程度的一致性，往往需要通过共识算法来达成。<br>共识算法解决的是对某个提案（Proposal），大家达成一致意见的过程。提案的含义在分布<br>式系统中十分宽泛，如多个事件发生的顺序、某个键对应的值、谁是领导……等等，可以认<br>为任何需要达成一致的信息都是一个提案。<br>注：实践中，一致性的结果往往还需要客户端的特殊支持，典型地通过访问足够多个服务节<br>点来验证确保获取共识后结果。</p><h3 id="问题挑战"><a href="#问题挑战" class="headerlink" title="问题挑战"></a>问题挑战</h3><p>现实中这样“完美”的系统并不存在，如响应请求往往存在时延、网络会发生中<br>断、节点会发生故障、甚至存在恶意节点故意要破坏系统。<br>一般地，把故障（不响应）的情况称为“非拜占庭错误”，恶意响应的情况称为“拜占庭错误”（对应节点为拜占庭节点）</p><h3 id="常见算法"><a href="#常见算法" class="headerlink" title="常见算法"></a>常见算法</h3><p>针对非拜占庭错误的情况，一般包括 Paxos、Raft 及其变种。<br>对于要能容忍拜占庭错误的情况，一般包括 PBFT 系列、PoW 系列算法等。从概率角度，PBFT 系列算法是确定的，一旦达成共识就不可逆转；而 PoW 系列算法则是不确定的，随着时间推移，被推翻的概率越来越小。<br>[以上算法能通最好，支付宝中有提到]</p><h3 id="FLP-不可能性原理"><a href="#FLP-不可能性原理" class="headerlink" title="FLP 不可能性原理"></a>FLP 不可能性原理</h3><p>FLP 不可能原理：在网络可靠，存在节点失效（即便只有一个）的最小化异步模型系统<br>中，不存在一个可以解决一致性问题的确定性算法。</p><p>提出该定理的论文是由 Fischer, Lynch 和 Patterson 三位作者于 1985 年发表，该论文后来获<br>得了 Dijkstra（就是发明最短路径算法的那位）奖。</p><p>FLP 不可能原理实际上告诉人们，不要浪费时间去为异步分布式系统设计在任意场景下都能实现共识的算法</p><p>科学告诉你什么是不可能的；工程则告诉你，付出一些代价，我可以把它变成可能。<br>这就是工程的魅力。<br>那么，退一步讲，在付出一些代价的情况下，我们能做到多少？<br>回答这一问题的是另一个很出名的原理：CAP 原理</p><h3 id="CAP-原理"><a href="#CAP-原理" class="headerlink" title="CAP 原理"></a>CAP 原理</h3><p>CAP 原理最早由 Eric Brewer 在 2000 年，ACM 组织的一个研讨会上提出猜想，后来 Lynch<br>等人进行了证明。<br>该原理被认为是分布式系统领域的重要原理。</p><p>分布式计算系统不可能同时确保一致性（Consistency）、可用性（Availablity）和分区容忍性<br>（Partition），设计中往往需要弱化对某个特性的保证。</p><ul><li><p>一致性（Consistency）：任何操作应该都是原子的，发生在后面的事件能看到前面事件<br>发生导致的结果，注意这里指的是强一致性；</p></li><li><p>可用性（Availablity）：在有限时间内，任何非失败节点都能应答请求；</p></li><li><p>分区容忍性（Partition）：网络可能发生分区，即节点之间的通信不可保障<br>应用场景<br>既然 CAP 不可同时满足，则设计系统时候必然要弱化对某个特性的支持。</p></li></ul><h4 id="弱化一致性"><a href="#弱化一致性" class="headerlink" title="弱化一致性"></a>弱化一致性</h4><p>对结果一致性不敏感的应用，可以允许在新版本上线后过一段时间才更新成功，期间不保证<br>一致性。<br>例如网站静态页面内容、实时性较弱的查询类数据库等，CouchDB、Cassandra 等为此设<br>计。</p><h4 id="弱化可用性"><a href="#弱化可用性" class="headerlink" title="弱化可用性"></a>弱化可用性</h4><p>对结果一致性很敏感的应用，例如银行取款机，当系统故障时候会拒绝服务。MongoDB、<br>Redis 等为此设计。<br>Paxos、Raft 等算法，主要处理这种情况。</p><h4 id="弱化分区容忍性"><a href="#弱化分区容忍性" class="headerlink" title="弱化分区容忍性"></a>弱化分区容忍性</h4><p>现实中，网络分区出现概率减小，但较难避免。某些关系型数据库、ZooKeeper 即为此设<br>计。<br>实践中，网络通过双通道等机制增强可靠性，达到高稳定的网络通信</p><h3 id="ACID-原则"><a href="#ACID-原则" class="headerlink" title="ACID 原则"></a>ACID 原则</h3><p>即 Atomicity（原子性）、Consistency（一致性）、Isolation（隔离性）、Durability（持久<br>性）。</p><p>ACID 原则描述了对分布式数据库的一致性需求，同时付出了可用性的代价。</p><ul><li>Atomicity：每次操作是原子的，要么成功，要么不执行；</li><li>Consistency：数据库的状态是一致的，无中间状态；</li><li>Isolation：各种操作彼此互相不影响；</li><li>Durability：状态的改变是持久的，不会失效。</li></ul><p>一个与之相对的原则是 BASE（Basic Availiability，Soft state，Eventually Consistency），牺牲掉对一致性的约束（最终一致性），来换取一定的可用性。</p><h4 id="Paxos-与-Raft"><a href="#Paxos-与-Raft" class="headerlink" title="Paxos 与 Raft"></a>Paxos 与 Raft</h4><p>Paxos 问题是指分布式的系统中存在故障（fault），但不存在恶意（corrupt）节点场景（即<br>可能消息丢失或重复，但无错误消息）下的共识达成（Consensus）问题。因为最早是 Leslie<br>Lamport 用 Paxon 岛的故事模型来进行描述而命名。<br>Paxos<br>1990 年由 Leslie Lamport 提出的 Paxos 共识算法，在工程角度实现了一种最大化保障分布<br>式系统一致性（存在极小的概率无法实现一致）的机制。Paxos 被广泛应用在 Chubby、<br>ZooKeeper 这样的系统中，Leslie Lamport 因此获得了 2013 年度图灵奖。<br>故事背景是古希腊 Paxon 岛上的多个法官在一个大厅内对一个议案进行表决，如何达成统一<br>的结果。他们之间通过服务人员来传递纸条，但法官可能离开或进入大厅，服务人员可能偷<br>懒去睡觉。<br>Paxos 是第一个被证明的共识算法，其原理基于 两阶段提交 并进行扩展。</p><p>作为现在共识算法设计的鼻祖，以最初论文的难懂（算法本身并不复杂）出名。算法中将节点分为三种类型：</p><ul><li>proposer：提出一个提案，等待大家批准为结案。往往是客户端担任该角色；</li><li>acceptor：负责对提案进行投票。往往是服务端担任该角色；</li><li>learner：被告知结案结果，并与之统一，不参与投票过程。可能为客户端或服务端。</li></ul><p>并且，算法需要满足 safety 和 liveness 两方面的约束要求（实际上这两个基础属性是大部分分布式算法都该考虑的）：</p><ul><li>safety：保证决议结果是对的，无歧义的，不会出现错误情况。<br>决议（value）只有在被 proposers 提出的 proposal 才能被最终批准；<br>在一次执行实例中，只批准（chosen）一个最终决议，意味着多数接受（accept）<br>的结果能成为决议；</li><li>liveness：保证决议过程能在有限时间内完成。<br>决议总会产生，并且 learners 能获得被批准（chosen）的决议。<br>基本过程包括 proposer 提出提案，先争取大多数 acceptor 的支持，超过一半支持时，则发送<br>结案结果给所有人进行确认。一个潜在的问题是 proposer 在此过程中出现故障，可以通过超<br>时机制来解决。极为凑巧的情况下，每次新的一轮提案的 proposer 都恰好故障，系统则永远<br>无法达成一致（概率很小）。</li></ul><p>Paxos 能保证在超过 的正常节点存在时，系统能达成共识。</p><h4 id="单个提案者-多接收者"><a href="#单个提案者-多接收者" class="headerlink" title="单个提案者+多接收者"></a>单个提案者+多接收者</h4><p>如果系统中限定只有某个特定节点是提案者，那么一致性肯定能达成（只有一个方案，要么达成，要么失败）。提案者只要收到了来自多数接收者的投票，即可认为通过，因为系统中<br>不存在其他的提案。<br>但一旦提案者故障，则系统无法工作。</p><h4 id="多个提案者-单个接收者"><a href="#多个提案者-单个接收者" class="headerlink" title="多个提案者+单个接收者"></a>多个提案者+单个接收者</h4><p>限定某个节点作为接收者。这种情况下，共识也很容易达成，接收者收到多个提案，选第一个提案作为决议，拒绝掉后续的提案即可。<br>缺陷也是容易发生单点故障，包括接收者故障或首个提案者节点故障。<br>以上两种情形其实类似主从模式，虽然不那么可靠，但因为原理简单而被广泛采用。<br>当提案者和接收者都推广到多个的情形，会出现一些挑战。</p><h4 id="多个提案者-多个接收者"><a href="#多个提案者-多个接收者" class="headerlink" title="多个提案者+多个接收者"></a>多个提案者+多个接收者</h4><p>既然限定单提案者或单接收者都会出现故障，那么就得允许出现多个提案者和多个接收者。<br>问题一下子变得复杂了。<br>一种情况是同一时间片段（如一个提案周期）内只有一个提案者，这时可以退化到单提案者的情形。需要设计一种机制来保障提案者的正确产生，例如按照时间、序列、或者大家猜拳（出一个数字来比较）之类。考虑到分布式系统要处理的工作量很大，这个过程要尽量高效，满足这一条件的机制非常难设计。</p><p>另一种情况是允许同一时间片段内可以出现多个提案者。那同一个节点可能收到多份提案，怎么对他们进行区分呢？这个时候采用只接受第一个提案而拒绝后续提案的方法也不适用。很自然的，提案需要带上不同的序号。节点需要根据提案序号来判断接受哪个。比如接受其中序号较大（往往意味着是接受新提出的，因为旧提案者故障概率更大）的提案。</p><p>如何为提案分配序号呢？一种可能方案是每个节点的提案数字区间彼此隔离开，互相不冲突。为了满足递增的需求可以配合用时间戳作为前缀字段。<br>此外，提案者即便收到了多数接收者的投票，也不敢说就一定通过。因为在此过程中系统中其它提案者</p><h4 id="两阶段的提交"><a href="#两阶段的提交" class="headerlink" title="两阶段的提交"></a>两阶段的提交</h4><p>提案者发出提案之后，收到一些反馈。这个时候得知的一种结果是自己的提案被大多数接受<br>了，一种结果是没被接受。没被接受的话好说，过会再试试。</p><p>即便受到来自大多数的接受反馈，也不能认为就最终确认了。因为这些接收者自己并不知道自己刚反馈的提案就恰好是全局的绝大多数。</p><p>那么引入了新的一个阶段，即提案者在前一阶段拿到所有的反馈后，判断这个提案是可能被大多数接受的提案，需要对其进行最终确认。<br>Paxos 里面对这两个阶段分别命名为准备（prepare）和提交（commit）。准备阶段解决大家对哪个提案进行投票的问题，提交阶段解决确认最终值的问题。</p><h5 id="准备阶段："><a href="#准备阶段：" class="headerlink" title="准备阶段："></a>准备阶段：</h5><ul><li>提案者发送自己计划提交的提案的编号到多个接受者，试探是否可以锁定多数接受者的支持。</li><li>接受者时刻保留收到过提案的最大编号和接受的最大提案。如果收到提案号比目前保留的最大提案号还大，则返回自己已接受的提案值（如果还未接受过任何提案，则为空）给提案者，更新当前最大提案号，并说明不再接受小于最大提案号的提案。</li></ul><h5 id="提交阶段："><a href="#提交阶段：" class="headerlink" title="提交阶段："></a>提交阶段：</h5><ul><li>提案者如果收到大多数的回复（表示大部分人听到它的请求），则可准备发出带有刚才提案号的接受消息。如果收到的回复中不带有新的提案，说明锁定成功。则使用自己的提案内容；如果返回中有提案内容，则替换提案值为返回中编号最大的提案值。如果没收到足够多的回复，则需要再次发出请求。</li><li>接受者收到接受消息后，如果发现提案号不小于已接受的最大提案号，则接受该提案，并更新接受的最大提案。<br>一旦多数接受了共同的提案值，则形成决议，成为最终确认。</li></ul><h3 id="Raft"><a href="#Raft" class="headerlink" title="Raft"></a>Raft</h3><p>Raft 是对 Paxos 的重新设计和实现。<br>Raft 算法是Paxos 算法的一种简化实现。<br>包括三种角色：leader、candiate 和 follower，其基本过程为：</p><p>Leader 选举：每个 candidate 随机经过一定时间都会提出选举方案，最近阶段中得票最<br>多者被选为 leader；<br>同步 log：leader 会找到系统中 log 最新的记录，并强制所有的 follower 来刷新到这个记录；<br>注：此处 log 并非是指日志消息，而是各种事件的发生记录。</p><h4 id="拜占庭问题与算法"><a href="#拜占庭问题与算法" class="headerlink" title="拜占庭问题与算法"></a>拜占庭问题与算法</h4><p>拜占庭问题更为广泛，讨论的是允许存在少数节点作恶（消息可能被伪造）场景下的一致性达成问题。拜占庭算法讨论的是最坏情况下的保障。</p><h4 id="Byzantine-Fault-Tolerant-算法"><a href="#Byzantine-Fault-Tolerant-算法" class="headerlink" title="Byzantine Fault Tolerant 算法"></a>Byzantine Fault Tolerant 算法</h4><p>面向拜占庭问题的容错算法，解决的是网络通信可靠，但节点可能故障情况下的一致性达<br>成。<br>最早由 Castro 和 Liskov 在 1999 年提出的 Practical Byzantine Fault Tolerant（PBFT）是第<br>一个得到广泛应用的 BFT 算法。只要系统中有 的节点是正常工作的，则可以保证一致<br>性。<br>PBFT 算法包括三个阶段来达成共识：Pre-Prepare、Prepare 和 Commit。</p><h4 id="新的解决思路"><a href="#新的解决思路" class="headerlink" title="新的解决思路"></a>新的解决思路</h4><p>拜占庭问题之所以难解，在于任何时候系统中都可能存在多个提案（因为提案成本很低），<br>并且要完成最终的一致性确认过程十分困难，容易受干扰。但是一旦确认，即为最终确认。<br>比特币的区块链网络在设计时提出了创新的 PoW（Proof of Work） 算法思路。一个是限制一<br>段时间内整个网络中出现提案的个数（增加提案成本），另外一个是放宽对最终一致性确认<br>的需求，约定好大家都确认并沿着已知最长的链进行拓宽。系统的最终确认是概率意义上的<br>存在。这样，即便有人试图恶意破坏，也会付出很大的经济代价（付出超过系统一半的算<br>力）。<br>后来的各种 PoX 系列算法，也都是沿着这个思路进行改进，采用经济上的惩罚来制约破坏<br>者。</p><h3 id="密码学技术"><a href="#密码学技术" class="headerlink" title="密码学技术"></a>密码学技术</h3><p>工程领域从来没有黑科技；密码学不是工程。<br>密码学在信息技术领域的重要地位无需多言。如果没有现代密码学的研究成果，人类社会根本无法进入信息时代。<br>密码学领域十分繁杂，本章将介绍密码学领域中跟区块链相关的一些基础知识，包括 hash 算<br>法与摘要、加密算法、数字签名和证书、PKI 体系、Merkle 树、同态加密等，以及如何使用<br>这些技术实现信息的机密性、完整性、认证性和不可抵赖性。</p><h3 id="Hash-算法"><a href="#Hash-算法" class="headerlink" title="Hash 算法"></a>Hash 算法</h3><p>定义</p><p>Hash （哈希或散列）算法是信息技术领域非常基础也非常重要的技术。它能任意长度的二进制值（明文）映射为较短的固定长度的二进制值（Hash 值），并且不同的明文很难映射为相同的 Hash 值。</p><p>例如计算一段话“hello blockchain world, this is yeasy@github”的 MD5 hash 值为<br>89242549883a2ef85dc81b90fb606046</p><h4 id="注：MD5-是一个经典的-hash-算法，其和-SHA-1-算法都已被-证明-安全性不足应用于商业场景。"><a href="#注：MD5-是一个经典的-hash-算法，其和-SHA-1-算法都已被-证明-安全性不足应用于商业场景。" class="headerlink" title="注：MD5 是一个经典的 hash 算法，其和 SHA-1 算法都已被 证明 安全性不足应用于商业场景。"></a>注：MD5 是一个经典的 hash 算法，其和 SHA-1 算法都已被 证明 安全性不足应用于商业场景。</h4><p>一个优秀的 hash 算法，将能实现：</p><ul><li>正向快速：给定明文和 hash 算法，在有限时间和有限资源内能计算出 hash 值。</li><li>逆向困难：给定（若干） hash 值，在有限时间内很难（基本不可能）逆推出明文。</li><li>输入敏感：原始输入信息修改一点信息，产生的 hash 值看起来应该都有很大不同。</li><li>冲突避免：很难找到两段内容不同的明文，使得它们的 hash 值一致（发生冲突）。</li></ul><p>冲突避免有时候又被称为“抗碰撞性”。如果给定一个明文前提下，无法找到碰撞的另一个明文，称为“弱抗碰撞性”；如果无法找到任意- 两个明文，发生碰撞，则称算法具有“强抗碰撞性”。</p><p>很多场景下，也要求对于任意长的输入内容，输出定长的 hash 结果。</p><p>流行的算法<br>目前流行的 Hash 算法包括 MD5、SHA-1 和 SHA-2。</p><p>使用案例：数字摘要<br>顾名思义，数字摘要是对数字内容进行 Hash 运算，获取唯一的摘要值来指代原始数字内容。<br>数字摘要是解决确保内容没被篡改过的问题（利用 Hash 函数的抗碰撞性特点）。</p><h3 id="加解密算法"><a href="#加解密算法" class="headerlink" title="加解密算法"></a>加解密算法</h3><p>对称加密</p><ul><li>加解密密钥相同或可推算,计算效率高，加密强度高需提前共享密钥；</li><li>易泄露</li><li>DES、3DES、AES、IDEA</li></ul><p>非对称加密</p><ul><li>加解密密钥不相关,无需提前共享密钥</li><li>计算效率低，仍存在中间人攻击可能</li><li>RSA、ElGamal、椭圆曲线系列算法</li></ul><script>document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });</script></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者: </i></span><span class="reprint-info"><a href="https://tuheishan.github.io" rel="external nofollow noreferrer">涂黑山</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接: </i></span><span class="reprint-info"><a href="https://tuheishan.github.io/posts/e5cb.html">https://tuheishan.github.io/posts/e5cb.html</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明: </i></span><span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="https://tuheishan.github.io" target="_blank">涂黑山</a> !</span></div></div><script async defer>document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"><span class="chip bg-color">区块链</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css"><div id="article-share"></div></div></div><style>#reward{margin:40px 0;text-align:center}#reward .reward-link{font-size:1.4rem;line-height:38px}#reward .btn-floating:hover{box-shadow:0 6px 12px rgba(0,0,0,.2),0 5px 15px rgba(0,0,0,.2)}#rewardModal{width:320px;height:350px}#rewardModal .reward-title{margin:15px auto;padding-bottom:5px}#rewardModal .modal-content{padding:10px}#rewardModal .close{position:absolute;right:15px;top:15px;color:rgba(0,0,0,.5);font-size:1.3rem;line-height:20px;cursor:pointer}#rewardModal .close:hover{color:#ef5350;transform:scale(1.3);-moz-transform:scale(1.3);-webkit-transform:scale(1.3);-o-transform:scale(1.3)}#rewardModal .reward-tabs{margin:0 auto;width:210px}.reward-tabs .tabs{height:38px;margin:10px auto;padding-left:0}.reward-content ul{padding-left:0!important}.reward-tabs .tabs .tab{height:38px;line-height:38px}.reward-tabs .tab a{color:#fff;background-color:#ccc}.reward-tabs .tab a:hover{background-color:#ccc;color:#fff}.reward-tabs .wechat-tab .active{color:#fff!important;background-color:#22AB38!important}.reward-tabs .alipay-tab .active{color:#fff!important;background-color:#019FE8!important}.reward-tabs .reward-img{width:210px;height:210px}</style><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="/medias/loading.gif" data-original="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="/medias/loading.gif" data-original="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="far fa-dot-circle"></i>&nbsp;本篇</div><div class="card"><a href="/posts/e5cb.html"><div class="card-image"><img src="/medias/loading.gif" data-original="/medias/featureimages/17.jpg" class="responsive-img" alt="区块链问答"> <span class="card-title">区块链问答</span></div></a><div class="card-content article-content"><div class="summary block-with-text">区块链基础问答问：什么是区块链？答： 区块链本质上是一个去中心化的数据库，是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。 狭义的讲，区块链是一种按照时间顺序将数据块以顺序相连的方式组合成的一种链式数据结构，并</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2020-02-21 </span><span class="publish-author"><i class="fas fa-user fa-fw"></i> 涂黑山</span></div></div><div class="card-action article-tags"><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"><span class="chip bg-color">区块链</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/posts/c92a511e.html"><div class="card-image"><img src="/medias/loading.gif" data-original="/medias/featureimages/21.jpg" class="responsive-img" alt="Vue简述、优势、历史"> <span class="card-title">Vue简述、优势、历史</span></div></a><div class="card-content article-content"><div class="summary block-with-text">Vue移动端 mpvue目前支持，微信小程序，百度智能小程序，头条小程序，支付宝小程序 混合开发 Flutter拥有高质量的原生响应速度，可以调用底层硬件 PC端iview 偏重于 移动 elementUI 偏重于 PC MVC 模式：以</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2020-02-21 </span><span class="publish-author"><i class="fas fa-user fa-fw"></i> 涂黑山</span></div></div><div class="card-action article-tags"><a href="/tags/Vue/"><span class="chip bg-color">Vue</span></a></div></div></div></div></article></div><script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script><script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script><script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script><script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script><style type="text/css">code[class*=language-],pre[class*=language-]{white-space:pre!important}</style></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="/libs/tocbot/tocbot.min.js"></script><script>$(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });</script></main><footer class="page-footer bg-color"><div class="container row center-align" style="margin-bottom:15px!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2020</span> <a href="https://tuheishan.github.io" target="_blank">涂黑山</a> |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a> |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a><br>&nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span class="white-color">50k</span>&nbsp;字 <span id="busuanzi_container_site_pv">|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv" class="white-color"></span>&nbsp;次 </span><span id="busuanzi_container_site_uv">|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv" class="white-color"></span>&nbsp;人</span><br><span id="sitetime">载入运行时间...</span><script>function siteTime(){var e=1e3,t=60*e,n=60*t,o=24*n,r=365*o,a=new Date,i="2020",l="1",m="10",M="0",g="0",d="0",s=a.getFullYear(),u=a.getMonth()+1,T=a.getDate(),c=a.getHours(),f=a.getMinutes(),h=a.getSeconds(),y=Date.UTC(i,l,m,M,g,d),H=Date.UTC(s,u,T,c,f,h),I=H-y,B=Math.floor(I/r),D=Math.floor(I/o-365*B),E=Math.floor((I-(365*B+D)*o)/n),L=Math.floor((I-(365*B+D)*o-E*n)/t),v=Math.floor((I-(365*B+D)*o-E*n-L*t)/e);i==s?(document.getElementById("year").innerHTML=s,document.getElementById("sitetime").innerHTML="本站已安全运行 "+D+" 天 "+E+" 小时 "+L+" 分钟 "+v+" 秒"):(document.getElementById("year").innerHTML=i+" - "+s,document.getElementById("sitetime").innerHTML="本站已安全运行 "+B+" 年 "+D+" 天 "+E+" 小时 "+L+" 分钟 "+v+" 秒")}setInterval(siteTime,1e3)</script><br></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/tuheishan" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i> </a><a href="mailto:tuheishan@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script src="/js/search.js"></script><script type="text/javascript">$(function(){searchFunc("/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="/libs/materialize/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script><script src="/js/click_show_text.js"></script><script type="text/javascript" color="122 103 238" opacity="0.7" zindex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script async src="/libs/others/busuanzi.pure.mini.js"></script><script type="text/javascript" color="0,0,255" pointcolor="0,0,255" opacity="0.7" zindex="-1" count="99" src="/libs/background/canvas-nest.js"></script><script type="text/javascript" size="150" alpha="0.6" zindex="-1" src="/libs/background/ribbon-refresh.min.js" async></script><script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async></script><script src="/libs/instantpage/instantpage.js" type="module"></script><script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).bottom&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script></body></html><!-- rebuild by neat -->